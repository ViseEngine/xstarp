<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    .map_container {
      height:600px;
    }
  </style>
</head>
<body>

<div>asdflkjg</div>
<!--在这里写你的html-->
<div id="container" class="map_container"></div>

<!--IE8下，使用填补器-->
<!--[if lt IE 9]>
<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.7/es5-shim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.7/es5-sham.min.js"></script>
<![endif]-->
<!--如果你用到了datepicker插件，则使用moment.js-->
<script src="../../dist/vendor/moment.js"></script>
<script src="../../dist/vendor/jquery.js"></script>

<script type="text/javascript" src="http://webapi.amap.com/maps?v=1.3&key=319766fcdf57589d1da6e0dfc89770d2"></script>

<script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js"></script>
<script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCjPUco3l_6-f8ZexAesZrYFzpGtRQHvSo">
</script>

<script src="http://localhost:9000/xstarp.js"></script>

<script>
  mapCreate.setType('g');

  var map = new SMap.Map('container', {
    resizeEnable: true,
    zoom:11,
    center: [116.397428, 39.90923]
  });

  var marker = new SMap.Marker({
  	map: map,
    position: [116.397428, 39.90923],
    title: 'hello world'
  });

  var lis = marker.on('click', markerHandler);

  function markerHandler() {
    console.log("you click me!");
    iw.open(map);
  }

  var iw = new SMap.InfoWindow({
  	content: 'Hello SMap',
    position: [116.397428, 39.90923],
  });

  console.log(iw);

//  iw.open(map);

  iw.on('closeclick', function(e){
  	console.log("你点击了关闭");
  });
//  iw.close();

//  marker.off('click', markerHandler);

//  SMap.event.removeListener(lis);


  var lineArr = [
    [116.368904, 39.913423],
    [116.382122, 39.901176],
    [116.387271, 39.912501],
    [116.398258, 39.904600]
  ];
  var polyline = new SMap.Polyline({
  	map: map,
    path: lineArr,          //设置线覆盖物路径
    strokeColor: "#3366FF", //线颜色
    strokeOpacity: 1,       //线透明度
    strokeWeight: 5,        //线宽
    strokeStyle: "solid",   //线样式
    strokeDasharray: [10, 5] //补充线样式
  });

  var polygonArr = [];//多边形覆盖物节点坐标数组
  polygonArr.push([116.403322, 39.920255]);
  polygonArr.push([116.410703, 39.897555]);
  polygonArr.push([116.402292, 39.892353]);
  polygonArr.push([116.389846, 39.891365]);
  var  polygon = new SMap.Polygon({
    path: polygonArr,//设置多边形边界路径
    strokeColor: "#FF33FF", //线颜色
    strokeOpacity: 0.2, //线透明度
    strokeWeight: 3,    //线宽
    fillColor: "#1791fc", //填充色
    fillOpacity: 0.35//填充透明度
  });
  polygon.setMap(map);


  var circle = new SMap.Circle({
    center: new SMap.LngLat("116.403322", "39.920255"),// 圆心位置
    radius: 1000, //半径
    strokeColor: "#F33", //线颜色
    strokeOpacity: 1, //线透明度
    strokeWeight: 3, //线粗细度
    fillColor: "#ee2200", //填充颜色
    fillOpacity: 0.35//填充透明度
  });
  circle.setMap(map);

  var sts = [{
    url: "http://a.amap.com/lbs/static/img/1102-1.png",
    size: new SMap.Size(32, 32),
    offset: new SMap.Pixel(-16, -30)
  }, {
    url: "http://a.amap.com/lbs/static/img/2.png",
    size: new SMap.Size(32, 32),
    offset: new SMap.Pixel(-16, -30)
  }, {
    url: "http://lbs.amap.com/wp-content/uploads/2014/06/3.png",
    size: new SMap.Size(48, 48),
    offset: new SMap.Pixel(-24, -45),
    textColor: '#CC0066'
  }];
  var markers = [];
  var cluster;
  map.plugin(["SMap.MarkerClusterer"], function() {
    cluster = new SMap.MarkerClusterer(map, markers, {
      styles: sts
    });
    console.log("hello");
  });


  var stsUser = [{
    url: imgUrl.clusterUserImg,
    size: new AMap.Size(65, 65),
    offset: new AMap.Pixel(-16, -30),
    imageOffset: new AMap.Pixel(0, 0),
    textColor: "#fff",
    textSize: 18
  }];


  console.log('runing');

</script>


</body>
</html>
