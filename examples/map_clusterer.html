<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    .map_container {
      height:600px;
    }
  </style>
</head>
<body>

<div>asdflkjg</div>
<!--在这里写你的html-->
<div id="container" class="map_container"></div>

<!--IE8下，使用填补器-->
<!--[if lt IE 9]>
<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.7/es5-shim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.7/es5-sham.min.js"></script>
<![endif]-->
<!--如果你用到了datepicker插件，则使用moment.js-->
<script src="../../dist/vendor/moment.js"></script>
<script src="../../dist/vendor/jquery.js"></script>

<script type="text/javascript" src="http://webapi.amap.com/maps?v=1.3&key=319766fcdf57589d1da6e0dfc89770d2"></script>

<script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js"></script>
<script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCjPUco3l_6-f8ZexAesZrYFzpGtRQHvSo">
</script>

<script src="http://localhost:9000/xstarp.js"></script>

<script>
  mapCreate.setType('g');

  var cluster, markers = [];
  var map = new SMap.Map("container", {
    resizeEnable: true,
    center: [116.397428, 39.90923],
    zoom: 13
  });

  // 随机向地图添加500个标注点
  var mapBounds = map.getBounds();
  var sw = mapBounds.getSouthWest();
  var ne = mapBounds.getNorthEast();
  var lngSpan = Math.abs(sw.lng - ne.lng);
  var latSpan = Math.abs(ne.lat - sw.lat);
  for (var i = 0; i < 500; i++) {
    var markerPosition = [sw.lng + lngSpan * (Math.random() * 1), ne.lat - latSpan * (Math.random() * 1)];
    var marker = new SMap.Marker({
      position: markerPosition,
      icon: "http://amappc.cn-hangzhou.oss-pub.aliyun-inc.com/lbs/static/img/marker.png",
      offset: {x: -8,y: -34}
    });
    markers.push(marker);
  }
  addCluster(0);

  SMap.event.addDomListener(document.getElementById('add0'), 'click', function() {
    addCluster(0);
  });
  SMap.event.addDomListener(document.getElementById('add1'), 'click', function() {
    addCluster(1);
  });

  // 添加点聚合
  function addCluster(tag) {
    if (cluster) {
      cluster.setMap(null);
    }
    if (tag == 1) {
      var sts = [{
        url: "http://a.amap.com/lbs/static/img/1102-1.png",
        size: new SMap.Size(32, 32),
        offset: new SMap.Pixel(-16, -30)
      }, {
        url: "http://a.amap.com/lbs/static/img/2.png",
        size: new SMap.Size(32, 32),
        offset: new SMap.Pixel(-16, -30)
      }, {
        url: "http://lbs.amap.com/wp-content/uploads/2014/06/3.png",
        size: new SMap.Size(48, 48),
        offset: new SMap.Pixel(-24, -45),
        textColor: '#CC0066'
      }];
      map.plugin(["SMap.MarkerClusterer"], function() {
        cluster = new SMap.MarkerClusterer(map, markers, {
          styles: sts
        });
      });
    } else {
      map.plugin(["SMap.MarkerClusterer"], function() {
        cluster = new SMap.MarkerClusterer(map, markers);
      });
    }
  }
</script>


</body>
</html>
